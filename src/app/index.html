<template>
    <require from="../viewers/ol3-viewer"></require>
    <require from="../controls/thumbnail-slider"></require>

    <nav class="navbar navbar-default navbar-fixed-top fixed-header">
        <div class="col-xs-3">&nbsp;</div>
        <div class="checkbox col-xs-6">
            <label><input id="toggle_scalebar" type="checkbox"
               checked.bind="context.show_scalebar"
              change.delegate="toggleScalebar()">Show Scalebar</label>
              <span>&nbsp;</span>
            <label><input id="toggle_regions" type="checkbox"
               checked.bind="context.show_regions"
              change.delegate="toggleRegions()">Show ROIs</label>
        </div>
        <div class="col-xs-3">&nbsp;</div>
    </nav>

    <div class="row center">
        <thumbnail-slider
            class="thumbnail-panel sidebar">
        </thumbnail-slider>

        <div class="col-splitter left-split">
            <img src="../css/images/collapse-left.png"/>
        </div>

        <span repeat.for="[id, conf] of context.image_configs">
            <div class="frame col-xs-12"
                show.bind="context.getImageConfig(id) &&
                    context.getImageConfig(id).image_info.ready">
                <ol3-viewer config_id.bind="id"></ol3-viewer>
            </div>

            <div class="col-splitter right-split"
                show.bind="context.getImageConfig(id) &&
                    context.getImageConfig(id).image_info.ready">
                <img src="../css/images/collapse-right.png"/>
            </div>

            <div show.bind="context.getImageConfig(id) &&
                context.getImageConfig(id).image_info.ready"
                class="right-hand-panel sidebar">right panel
            </div>
        </span>
    </div>

</template>
