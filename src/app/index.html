<!--
    Copyright (C) 2017 University of Dundee & Open Microscopy Environment.
    All rights reserved.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<template>
    <require from="../viewers/ol3-viewer"></require>
    <require from="./header"></require>
    <require from="./thumbnail-slider"></require>
    <require from="./right-hand-panel"></require>

    <header></header>

    <div class="modal-message modal" role="dialog"
        data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <h4 class="modal-body"></h4>
                <div class="modal-footer">
                    <button type="button"
                            class="ok center-block btn btn-primary btn-sm"
                            data-dismiss="modal">Ok</button>
                </div>
            </div>
        </div>
    </div>
    <div class="confirmation-dialog modal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span>&times;</span>
                    </button>
                    <h4 class="modal-title">Confirmation</h4>
                </div>
                <div class="modal-body"></div>
                <div class="modal-footer">
                    <button type="button" class="yes btn btn-primary btn-sm">Yes</button>
                    <button type="button" class="no btn btn-default btn-sm">No</button>
                </div>
            </div>
        </div>
    </div>

    <div class="row center">
        <thumbnail-slider
            class="thumbnail-panel sidebar">
        </thumbnail-slider>

        <div class="col-splitter left-split">
            <img src="../css/images/collapse-left.png"/>
        </div>

        <span repeat.for="[id, conf] of context.image_configs">
            <div class="frame col-xs-12"
                show.bind="context.getImageConfig(id) &&
                    context.getImageConfig(id).image_info.ready">
                <ol3-viewer config_id.bind="id"></ol3-viewer>
            </div>

            <div class="col-splitter right-split"
                show.bind="context.getImageConfig(id) &&
                    context.getImageConfig(id).image_info.ready">
                <img src="../css/images/collapse-right.png"/>
            </div>

            <right-hand-panel show.bind="context.getImageConfig(id) &&
                context.getImageConfig(id).image_info.ready"
                class="right-hand-panel sidebar" config_id.bind="id">
            </right-hand-panel>
        </span>
    </div>

</template>
