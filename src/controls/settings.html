<template>
    <require from="../utils/converters"></require>
    <require from="./channel-settings"></require>

    <div class="row save-settings">
        <button type="button"
        disabled="${image_config &&
            (image_config.history.length === 0 || image_config.historyPointer < 0) ?
             'disabled': ''}" class="${image_config &&
            (image_config.history.length === 0 || image_config.historyPointer < 0) ?
                'disabled-color': ''}"
        click.delegate="saveImageSettings()">Save</button>
    </div>

    <div class="row history">
        <button type="button" click.delegate="undo()"
            disabled="${image_config && image_config.history.length > 0 &&
                image_config.historyPointer >= 0 ? '' : 'disabled'}"
            class="${image_config && image_config.history.length > 0 &&
                image_config.historyPointer >= 0 ? '' : 'disabled-color'}">Undo</button>
        <button type="button" click.delegate="redo()"
            disabled="${image_config && image_config.history.length > 0 &&
                image_config.historyPointer < image_config.history.length-1 ? '' :'disabled'}"
            class="${image_config && image_config.history.length > 0 &&
                image_config.historyPointer < image_config.history.length-1 ?
                 '' : 'disabled-color'}">Redo</button>
        <button type="button" click.delegate="copy()">Copy</button>
        <button type="button"
            class="${image_config && image_config.image_info &&
                image_config.image_info.copied_img_rdef &&
                image_config.image_info.copied_img_rdef.imageId ===
                image_config.image_info.image_id ? '' : 'disabled-color'}"
            disabled="${image_config && image_config.image_info &&
                image_config.image_info.copied_img_rdef &&
                image_config.image_info.copied_img_rdef.imageId ===
                image_config.image_info.image_id ? '' : 'disabled'}"
            click.delegate="paste()">Paste</button>
    </div>

    <div class="row checkbox checkbox-settings">
        <div class="col-xs-6">
            <label><input type="checkbox"
               checked.bind="image_config.image_info.model | imageModel"
               change.delegate="onModelChange($event.target.checked)">Grayscale</label>
        </div>
        <div class="col-xs-6">
            <label><input type="checkbox"
                change.delegate="toggleHistogram()">Show Histogram</label>
        </div>
    </div>

    <div class="row">
        <channel-settings class="col-xs-12" config_id.bind="config_id"></channel-settings>
    </div>

</template>
